<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Favicon -->
  <link rel="icon" href="images/logo-round-gold.png" type="image/png">

  <title>Grace Untamed — Contact</title>

  <!-- Vendor CSS FIRST -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;700&display=swap" rel="stylesheet">

  <!-- Your CSS LAST -->
  <link rel="stylesheet" href="style.css?v=7">
</head>

<body class="d-flex flex-column min-vh-100">

  <!-- NAV -->
  <nav class="navbar navbar-expand-lg bg-custom">
    <div class="container-fluid">
      <a class="navbar-brand" href="index.html">
        <img src="images/logo-round-gold-trans.png" alt="Grace Untamed" class="logo" style="max-width:150px;height:auto;">
      </a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavDropdown"
              aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>

      <div class="collapse navbar-collapse" id="navbarNavDropdown">
        <ul class="navbar-nav">
          <li class="nav-item"><a class="nav-link" href="index.html">Home</a></li>
          <li class="nav-item"><a class="nav-link" href="portfolio.html">Design Vault</a></li>
          <li class="nav-item"><a class="nav-link" href="about.html">Our Story</a></li>
          <li class="nav-item"><a class="nav-link" href="services.html">Services</a></li>
          <li class="nav-item"><a class="nav-link" href="contact.html">Let’s Connect</a></li>
        </ul>
      </div>
    </div>
  </nav>

  <!-- INTRO -->
  <section id="contact-intro" class="py-5 text-center">
    <div class="container" style="max-width:800px;">
      <h2 class="mb-3" style="color:#f3c1c2;">Get in Touch</h2>
      <p style="color:#ffffff;">
        I’d love to hear from you. Whether you’re starting a new project, collaborating,
        or just have a question, fill out the form and I’ll get back to you soon.
      </p>
    </div>
  </section>

  <!-- CONTACT FORM -->
  <section id="contact" class="py-5">
    <div class="container" style="max-width:760px;">
      <h2 class="h3 mb-4" style="color:#f3c1c2;">Contact</h2>

      <form action="https://formsubmit.co/el/kaxavi" method="POST" novalidate>
        <!-- FormSubmit options -->
        <input type="hidden" name="_subject" value="New portfolio contact">
        <input type="hidden" name="_template" value="table">
        <!-- URL-encoded redirect to avoid parsing issues -->
        <input type="hidden" name="_next" value="https%3A%2F%2Fgrace-untamed.com%2Fthanks.html">
        <!-- CAPTCHA is ON by default when _captcha is omitted -->

        <div class="row g-3">
          <div class="col-md-6">
            <label class="form-label">Name *</label>
            <input type="text" name="name" class="form-control" required>
          </div>

          <div class="col-md-6">
            <label class="form-label">Email *</label>
            <!-- Use name="email" so Reply-To works in your inbox -->
            <input type="email" name="email" class="form-control" required>
          </div>

          <div class="col-md-6">
            <label class="form-label">Phone</label>
            <input type="tel" name="phone" class="form-control">
          </div>

          <div class="col-12">
            <label class="form-label">Comments *</label>
            <textarea name="comments" rows="5" class="form-control" required></textarea>
          </div>

          <!-- Anti-spam -->
          <input type="text" name="_honey" style="display:none">
          <input type="hidden" name="_timestamp" value="">
          <script>document.currentScript.previousElementSibling.value = Date.now();</script>

          <div class="col-12">
            <button type="submit" class="btn btn-primary">Submit</button>
          </div>
        </div>
      </form>
    </div>
  </section>

  <!-- ===================== Reviews ===================== -->
<section id="reviews" class="py-5">
  <div class="container" style="max-width: 900px;">
    <h2 class="text-center mb-4" style="color:#f3c1c2;">Client Reviews</h2>

    <!-- List -->
    <div id="reviewsList" class="row g-4 mb-4"></div>

    <!-- Submit a review -->
    <div class="card bg-dark text-white border-0">
      <div class="card-body">
        <h3 class="h5 mb-3" style="color:#f3c1c2;">Share Your Experience</h3>

        <form id="reviewForm">
          <div class="row g-3">
            <div class="col-md-6">
              <label class="form-label">Name *</label>
              <input type="text" name="name" class="form-control" required>
            </div>
            <div class="col-md-6">
              <label class="form-label">Rating *</label>
              <select name="rating" class="form-select" required>
                <option value="5" selected>★★★★★ (5)</option>
                <option value="4">★★★★☆ (4)</option>
                <option value="3">★★★☆☆ (3)</option>
                <option value="2">★★☆☆☆ (2)</option>
                <option value="1">★☆☆☆☆ (1)</option>
              </select>
            </div>
            <div class="col-12">
              <label class="form-label">Review *</label>
              <textarea name="text" rows="4" class="form-control" required></textarea>
            </div>
            <div class="col-12">
              <button class="btn btn-primary" type="submit">Send Review</button>
              <small id="reviewNote" class="ms-3"></small>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>
</section>

<script>
  // ====== CONFIG ======
  const REVIEWS_API = 'YOUR_GAS_URL'; // e.g. https://script.google.com/macros/s/XXXX/exec

  // Render stars
  function stars(n) {
    n = Math.max(1, Math.min(5, Number(n)||5));
    const full = '★'.repeat(n);
    const empty = '☆'.repeat(5-n);
    return `<span class="text-warning" style="letter-spacing:1px">${full}</span><span class="text-secondary">${empty}</span>`;
  }

  // Load approved reviews
  async function loadReviews() {
    const list = document.getElementById('reviewsList');
    list.innerHTML = '<div class="text-center text-white-50">Loading reviews…</div>';
    try {
      const res = await fetch(REVIEWS_API, { method: 'GET' });
      const data = await res.json();
      if (!data.ok) throw new Error('Failed to load');
      if (!data.reviews || !data.reviews.length) {
        list.innerHTML = '<div class="text-center text-white-50">No reviews yet. Be the first!</div>';
        return;
      }
      list.innerHTML = data.reviews.map(r => `
        <div class="col-md-6">
          <div class="card bg-dark text-white h-100 border-0 shadow-sm">
            <div class="card-body">
              <div class="mb-2">${stars(r.rating)}</div>
              <p class="mb-3">${escapeHtml(r.text)}</p>
              <div class="small text-muted">— ${escapeHtml(r.name)}</div>
            </div>
          </div>
        </div>
      `).join('');
    } catch (e) {
      list.innerHTML = '<div class="text-center text-danger">Could not load reviews right now.</div>';
    }
  }

  // Submit a review (goes in as not approved)
  document.getElementById('reviewForm').addEventListener('submit', async (e) => {
    e.preventDefault();
    const note = document.getElementById('reviewNote');
    note.textContent = 'Sending…';
    const fd = new FormData(e.target);
    const payload = {
      name: fd.get('name'),
      rating: fd.get('rating'),
      text: fd.get('text')
    };
    try {
      const res = await fetch(REVIEWS_API, {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify(payload)
      });
      const data = await res.json();
      if (data.ok) {
        e.target.reset();
        note.textContent = 'Thanks! Your review was submitted and will appear once approved.';
      } else {
        note.textContent = 'There was a problem. Please try again later.';
      }
    } catch {
      note.textContent = 'Could not send right now.';
    }
  });

  // Basic escaping for display
  function escapeHtml(s) {
    return (s || '').toString()
      .replace(/&/g,'&amp;')
      .replace(/</g,'&lt;')
      .replace(/>/g,'&gt;')
      .replace(/"/g,'&quot;')
      .replace(/'/g,'&#039;');
  }

  // Kick off
  loadReviews();
</script>


  <!-- FOOTER -->
  <footer class="footer mt-3">
    <div class="container text-center">
      <div class="row">
        <div class="col-lg-6">
          <h1>Grace Untamed</h1>
          <p>Tyler, TX 75703</p>
        </div>
        <div class="col-lg-6">
          <h1>Email</h1>
          <p>grace.untamed.design@gmail.com</p>
          <a href="https://www.facebook.com/profile.php?id=61581233181171"><i class="bi bi-facebook"></i></a>
          <a href="https://www.instagram.com/graceuntameddesigns/"><i class="bi bi-instagram"></i></a>
          <p>&copy; 2025, Grace Untamed</p>
        </div>
      </div>
    </div>
  </footer>

  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
